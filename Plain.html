<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="api.css">
        <title>API</title>
    </head>

    <body>
        <form  class ="postData" id = "myForm" method="POST">
            <div>
                <input type="text" name="CampaignName" id="CampaignName" placeholder="Enter a CampaignName">
            </div>
      
            <label for="Startdate">Startdate: </label>
            <input type="date" id="Startdate" name="Startdate"><br><br>
      
            <label for="Enddate">Enddate: </label>
            <input type="date" id="Enddate" name="Enddate"><br><br>
      
            <div>
                <textarea placeholder="Enter URLs" cols="50" rows="5" id = "LongUrl" name = "LongUrl"></textarea>
            </div>
            
            <input type="submit" value="SEND POST" id = "button">
        </form>
    
    
    
    
        <script>
            var form = document.getElementById('myForm')
    
            window.onload = function(){
            form.addEventListener('sumbit' ,function(e){
                //prevents auto submission
                e.preventDefault()
    
                var name = document.getElementById('CampaignName')
                var name = document.getElementById('Startdate')
                var name = document.getElementById('Enddate')
                var name = document.getElementById('LongUrl')
    
                ///fetch
    
                fetch("http://localhost:54175/api/redirect"), {
                    method:'POST',
                    body:JSON.stringify({
                        CampaignName: CampaignName,
                        Startdate:Startdate,
                        Enddate:Enddate,
                        LongUrl:LongUrl
    
                    }),
                    headers:{
                        "Content-Type":"application/json; charset = UTF-8"
    
                    }
                }
                .then(function(response){
                    return response.json()
                })
                .then(function(data){
                    console.log(data)
                })
            })
        }
        </script>
    
    </body>

    
</html>